<?xml version="1.0"?>

<robot>

  <macro name="base" params="name">
    <link name="${name}">
      <inertial>
        <mass value="5"/>
        <origin rpy="0 0 0" xyz="-0.45 0 -0.203"/>
        <inertia ixx="0.0395416666667" ixy="0" ixz="0" iyy="0.106208333333" iyz="0" izz="0.106208333333"/>
      </inertial>
    
      <collision name="${name}_collision">
        <geometry>
          <box size="1.672 0.797 0.03"/>
        </geometry>
      </collision>
    
      <visual name="${name}_visual">
        <geometry>
          <box size="1.672 0.797 0.03"/>
        </geometry>
        <material name="blue"/>
      </visual>
    </link>
  </macro>

  <macro name="wheel" params="name length radius">
    <link name="${name}">    
      <inertial>
        <mass value="0.2"/>
        <origin rpy="0 1.5707 1.5707" xyz="0 0 0"/>
        <inertia ixx="0.00052666666" ixy="0" ixz="0" iyy="0.00052666666" iyz="0" izz="0.001"/>
      </inertial>
    
      <collision name="${name}_collision">
        <origin rpy="0 1.5707 1.5707" xyz="0 0 0" />
        <geometry>
         <cylinder length="${length}" radius="${radius}"/>
        </geometry>
      </collision>
    
      <visual name="${name}_visual">
        <origin rpy="0 1.5707 1.5707" xyz="0 0 0"/>
        <geometry>
          <cylinder length="${length}" radius="${radius}"/>
        </geometry> 
        <material name="grey"/>     
      </visual>
    </link>
  </macro>
  
  <macro name="wheel_join" params="name child origin_xyz">
      <joint name="${name}" type="continuous">
        <origin rpy="0 0 0" xyz="${origin_xyz}"/>
        <child link="${child}" />
        <parent link="base_link"/>
        <axis rpy="0 0 0" xyz="0 1 0"/>
        <limit effort="10000" velocity="1000"/>
        <joint_properties damping="1.0" friction="1.0" />
    </joint>  
  </macro>
  
  
  <macro name="caster" params="name">
    <link name="${name}">
      <inertial>
        <mass value="3"/>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
      </inertial>
  
      <collision name="caster_front_collision">
        <origin rpy="0 1.5707 1.5707" xyz="0 0 0" />
          <geometry>
            <sphere radius="0.203"/>
          </geometry>
      </collision> 
    </link>
  </macro>
  
  <macro name="caster_join" params="name child origin_xyz">
      <joint name="${name}" type="continuous">
        <origin rpy="0 0 0" xyz="${origin_xyz}"/>
        <child link="${child}" />
        <parent link="base_link"/>
    </joint>  
  </macro>

</robot>
